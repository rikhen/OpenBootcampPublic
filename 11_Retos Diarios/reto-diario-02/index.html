<!DOCTYPE html>
<html lang="addEventListener">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <title>Simulador de cuota de hipoteca - OpenBootcamp</title>
        <!-- Bootstrap CSS -->
        <link href="assets/css/bootstrap.min.css" rel="stylesheet">
        <!-- Custom styles -->
        <link href="assets/css/form-validation.css" rel="stylesheet">
    </head>
    <body class="bg-light">
        <div class="container">
            <main>
                <div class="py-5 text-center">
                    <img class="d-block mx-auto mb-4" src="https://open-bootcamp.com/plasmic/open_bootcamp/images/logoOb2.svg" alt="" width="100%" height="80">
                    <h2>Simulador de cuota de hipoteca</h2>
                    <p class="lead">Una web simulador de cuota de hipoteca. Para ello, el usuario proporcionará: cantidad (€), número de cuotas (meses) y tipo de interés (%). La página devolverá el importe de la cuota mensual. </p>
                </div>
                <div class="row g-3">
                    <div class="col-md-5 col-lg-4 order-md-last">
                        <h4 class="d-flex justify-content-left align-items-center mb-3"><span class="badge bg-secondary rounded-pill">2</span> <span class="pl-4 text-muted">Resultado Hipoteca</span></h4>
                        <ul class="list-group mb-3">
                            <li class="list-group-item d-flex justify-content-between lh-sm">
                                <div>
                                    <h6 class="my-0">Cantidad</h6>
                                    <small class="text-muted">Importe del préstamo hipotecario</small>
                                </div>
                                <span id="amount" class="text-muted"></span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between lh-sm">
                                <div>
                                    <h6 class="my-0">Número cuotas</h6>
                                    <small class="text-muted">Número de periodos de pago</small>
                                </div>
                                <span id="months" class="text-muted"></span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between lh-sm">
                                <div>
                                    <h6 class="my-0">TIN</h6>
                                    <small class="text-muted">Tipo de interés anual</small>
                                </div>
                                <span id="interestRate" class="text-muted"></span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between lh-sm">
                                <div>
                                    <h6 class="my-0">Cuota mensual</h6>
                                </div>
                                <span id="monthlyRate" class="text"></span>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-7 col-lg-8">
                        <h4 class="d-flex justify-content-left align-items-center mb-3 text-muted"><span class="badge bg-secondary rounded-pill">1</span>Entrada usuario </h4>
                        <form id="calculator-form" class="needs-validation" novalidate="" onsubmit="return false">
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="amountInput" class="form-label">Cantidad (€)</label>
                                    <input type="text" class="form-control" id="amountInput" placeholder="" value="" required="">
                                    <div class="invalid-feedback">
                                        Se requiere una cantidad válida.
</div>
                                </div>
                                <div class="col-12">
                                    <label for="monthsInput" class="form-label">Número de cuotas (meses)</label>
                                    <input type="range" class="form-range" min="0" max="60" step="12" id="monthsInput">
                                </div>                                 
                                <div class="col-12">
                                    <label for="interestRateInput" class="form-label">Típo de interés (%)</label>
                                    <input type="range" class="form-range" min="0" max="2" step="0.1" id="interestRateInput">
                                </div>
                            </div>
                            <hr class="my-4">
                            <div class="row g-3">
                                <div class="col-md-8">
                                    <button type="submit" id="calculateRateBtn" class="w-100 btn btn-primary btn-lg">CALCULAR</button>
                                </div>
                                <div class="col-md-4">
                                    <button type="button" id="resetFormBtn" class="w-100 btn btn-secondary btn-lg" value="reset" onclick="resetForm()">BORRAR</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </main>
            <footer class="my-5 pt-5 text-muted text-center text-small">
                <p class="mb-1">&copy; 2021 Rikhen</p>
                <ul class="list-inline">
                    <li class="list-inline-item">
                        <a href="#">GitHub</a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#">OpenBootcamp</a>
                    </li>
                </ul>
            </footer>
        </div>
        <script src="assets/js/calculator.js"></script>
        <script src="assets/js/popper.min.js"></script>
        <script src="assets/js/bootstrap.min.js"></script>
        <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }
                        form.classList.add('was-validated')
						calculateMonthlyRate();
                    }, false)
                })
        })()
		</script>
        <script>
			function resetForm() {
				document.getElementById('calculator-form').reset();
				document.getElementById('monthsInput').value = 0;
				document.getElementById('interestRateInput').value = 0;
				document.getElementById('amount').innerHTML = "";
				document.getElementById('months').innerHTML = "";
				document.getElementById('interestRate').innerHTML = "";
				document.getElementById('monthlyRate').innerHTML = "";
			}
		</script>
    </body>
